<html>
  <head>
    <title>REGISTER</title>
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
  </head>
  <body>
    <div class="form-box">
      <h1>REGISTER</h1>
      <div class="input-box">
        <i class="bi bi-person"></i>
        <input type="text" placeholder="Full Name">
      </div>
      <div class="input-box">
        <i class="bi bi-envelope"></i>
        <input type="email" placeholder="Email" id="email">
      </div>
      <div class="input-box">
        <i class="bi bi-key"></i>
        <input type="password" placeholder="Password (8 Characters)" id="password">
        <span class="eye" onclick="Myfunction()">
        </span>
      </div>
      <div class="input-box">
        <i class="bi bi-key"></i>
        <input type="password" placeholder="Confirm Password" id="confirmPassword">
      </div>
      <button onclick="validate()" type="button" value="REGISTER" class="login-btn">SIGN UP</button>

      <div class="link">
        <p style="text-align: center;">Already have an account? <a href="index.html" onclick="login()">Login here.</a></p>
    </div>

    </div>
    <div>
      <p id="length"></p>
    </div>

   <script>
  function validate() {
    var email = document.getElementById("email").value;
    var password = document.getElementById("password").value;
    var confirmPassword = document.getElementById("confirmPassword").value;
    var length = document.getElementById("length");
    
    var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; 

    if (password.length >= 8 && password === confirmPassword && emailRegex.test(email)) {

      localStorage.setItem("email", email);
      localStorage.setItem("password", password);

      alert("Registration successful!");
      window.location.replace("index.html");
      return false;
    } else {
      var errorMessage = "Registration failed. Please check the following:\n\n";

      if (!emailRegex.test(email)) {
        errorMessage += "- Invalid email format!\n";
      }

      if (password.length < 8) {
        errorMessage += "- Password should be at least 8 characters long!\n";
      }
      
      if (password !== confirmPassword) {
        errorMessage += "- Password and Confirm Password do not match!\n";
      }
      
      alert(errorMessage);
    }
  }

  function myFunction() {
    var x = document.getElementById("password");
    var y = document.getElementById("hide1");
    var z = document.getElementById("hide2");

    if (x.type === "password") {
      x.type = "text";
      y.style.display = "block";
      z.style.display = "none";
    } else {
      x.type = "password";
      y.style.display = "none";
      z.style.display = "block";
    }
  }
</script>

  </body>
</html>
